# rebalancer: 负载均衡器策略层 wrapper   
------
### 本模块在 普通负载均衡器的基础上添加了 __`节点熔断`__ 和 __`服务降级`__ 功能。     

#### 1. __节点熔断__ 
- 主要用于摘除临时失效的节点。    
- 一般当错误率超过 90% 触发节点熔断。    
- 本熔断器为了性能，采用限流器进行部分采样。    
- 状态可分为 正常，全开，半开 三个状态，它们转换关系如下图：    
![文件缺失，请更新](doc/节点熔断_状态变更.png "基础架构部")   

#### 2. __服务降级__ 
- 主要应对当上游的节点推送出现问题，需要保证服务可靠运行的情况。    
- 状态可分为 正常，自我保护，恐慌 三个状态，它们转换关系如下图：    
![文件缺失，请更新](doc/服务降级_状态变更.png "基础架构部")   

------
![网络故障，请重试](http://www.qutoutiao.net/logo.jpg "基础架构部")  